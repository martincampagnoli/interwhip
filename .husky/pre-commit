#!/usr/bin/env sh
# Husky v9 pre-commit hook
# Runs test suite; aborts commit on failure.

echo "Running test suite (pre-commit)..." >&2

npm run test:ci --silent
status=$?
if [ $status -ne 0 ]; then
	echo "\n❌ Tests failed. Commit aborted." >&2
	exit $status
fi

echo "✅ Tests passed. Proceeding with commit." >&2
exit 0
